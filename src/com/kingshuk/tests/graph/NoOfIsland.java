package com.kingshuk.tests.graph;


import java.util.*;

class NoOfIsland {
    int[][] add = {{0,-1}, {0,1},{-1, 0}, {1, 0}};

    public int numIslands(char[][] grid) {
        int count = 0;
        for(int i = 0; i< grid.length; i++)
        {
            for(int j = 0; j< grid[i].length; j++)
            {
                if(grid[i][j] == '1')
                {
                    bfs(grid, i , j);
                    count++;
                }
            }
        }
        return count;
    }

    void dfs(char[][] grid, int i, int j)
    {
        if(grid[i][j] == '0')
            return;
        grid[i][j] = '0';
        int newI, newJ;
        for(int[] x : add)
        {
            newI = i+x[0];
            newJ = j+x[1];
            if(newI>= 0 && newI < grid.length && newJ>=0 && newJ<grid[newI].length && grid[newI][newJ] == '1')
                dfs(grid, newI, newJ);
        }
    }

    void bfs(char[][] grid, int i, int j)
    {
        grid[i][j] = 0;
        Queue<Pair> pairs = new LinkedList<>();
        pairs.add(new Pair(i, j));
        while(!pairs.isEmpty()) {
            i = pairs.peek().i;
            j = pairs.peek().j;
            pairs.remove();
            grid[i][j] = 0;
            for (int[] x : add) {
                int newI = i + x[0];
                int newJ = j + x[1];
                if (newI >= 0 && newI < grid.length && newJ >= 0 && newJ < grid[newI].length && grid[newI][newJ] == '1')
                {  grid[newI][newJ] = '0';
                    pairs.add(new Pair(newI, newJ));}
            }
        }
    }

    static class Pair{
        int i, j;
        Pair(int i, int j)
        {
            this.i = i;
            this.j = j;
        }
    }

    public static void main(String[] args) {
        char[][] grid = {
                {
                        '1',
                        '1',
                        '1',
                        '1',
                        '1',
                        '0',
                        '1',
                        '1',
                        '1',
                        '1',
                        '1',
                        '1',
                        '1',
                        '1',
                        '1',
                        '0',
                        '1',
                        '0',
                        '1',
                        '1'
                },
                {
                        '0',
                        '1',
                        '1',
                        '1',
                        '1',
                        '1',
                        '1',
                        '1',
                        '1',
                        '1',
                        '1',
                        '1',
                        '1',
                        '0',
                        '1',
                        '1',
                        '1',
                        '1',
                        '1',
                        '0'
                },
                {
                        '1',
                        '0',
                        '1',
                        '1',
                        '1',
                        '0',
                        '0',
                        '1',
                        '1',
                        '0',
                        '1',
                        '1',
                        '1',
                        '1',
                        '1',
                        '1',
                        '1',
                        '1',
                        '1',
                        '1'
                },
                {
                        '1',
                        '1',
                        '1',
                        '1',
                        '0',
                        '1',
                        '1',
                        '1',
                        '1',
                        '1',
                        '1',
                        '1',
                        '1',
                        '1',
                        '1',
                        '1',
                        '1',
                        '1',
                        '1',
                        '1'
                },
                {
                        '1',
                        '0',
                        '0',
                        '1',
                        '1',
                        '1',
                        '1',
                        '1',
                        '1',
                        '1',
                        '1',
                        '1',
                        '1',
                        '1',
                        '1',
                        '1',
                        '1',
                        '1',
                        '1',
                        '1'
                },
                {
                        '1',
                        '0',
                        '1',
                        '1',
                        '1',
                        '1',
                        '1',
                        '1',
                        '0',
                        '1',
                        '1',
                        '1',
                        '0',
                        '1',
                        '1',
                        '1',
                        '0',
                        '1',
                        '1',
                        '1'
                },
                {
                        '0',
                        '1',
                        '1',
                        '1',
                        '1',
                        '1',
                        '1',
                        '1',
                        '1',
                        '1',
                        '1',
                        '1',
                        '0',
                        '1',
                        '1',
                        '0',
                        '1',
                        '1',
                        '1',
                        '1'
                },
                {
                        '1',
                        '1',
                        '1',
                        '1',
                        '1',
                        '1',
                        '1',
                        '1',
                        '1',
                        '1',
                        '1',
                        '1',
                        '0',
                        '1',
                        '1',
                        '1',
                        '1',
                        '0',
                        '1',
                        '1'
                },
                {
                        '1',
                        '1',
                        '1',
                        '1',
                        '1',
                        '1',
                        '1',
                        '1',
                        '1',
                        '1',
                        '0',
                        '1',
                        '1',
                        '1',
                        '1',
                        '1',
                        '1',
                        '1',
                        '1',
                        '1'
                },
                {
                        '1',
                        '1',
                        '1',
                        '1',
                        '1',
                        '1',
                        '1',
                        '1',
                        '1',
                        '1',
                        '1',
                        '1',
                        '1',
                        '1',
                        '1',
                        '1',
                        '1',
                        '1',
                        '1',
                        '1'
                },
                {
                        '0',
                        '1',
                        '1',
                        '1',
                        '1',
                        '1',
                        '1',
                        '1',
                        '0',
                        '1',
                        '1',
                        '1',
                        '1',
                        '1',
                        '1',
                        '1',
                        '1',
                        '1',
                        '1',
                        '1'
                },
                {
                        '1',
                        '1',
                        '1',
                        '1',
                        '1',
                        '1',
                        '1',
                        '1',
                        '1',
                        '1',
                        '1',
                        '1',
                        '1',
                        '1',
                        '1',
                        '1',
                        '1',
                        '1',
                        '1',
                        '1'
                },
                {
                        '1',
                        '1',
                        '1',
                        '1',
                        '1',
                        '1',
                        '1',
                        '1',
                        '1',
                        '1',
                        '1',
                        '1',
                        '1',
                        '1',
                        '1',
                        '1',
                        '1',
                        '1',
                        '1',
                        '1'
                },
                {
                        '1',
                        '1',
                        '1',
                        '1',
                        '1',
                        '0',
                        '1',
                        '1',
                        '1',
                        '1',
                        '1',
                        '1',
                        '1',
                        '0',
                        '1',
                        '1',
                        '1',
                        '1',
                        '1',
                        '1'
                },
                {
                        '1',
                        '0',
                        '1',
                        '1',
                        '1',
                        '1',
                        '1',
                        '0',
                        '1',
                        '1',
                        '1',
                        '0',
                        '1',
                        '1',
                        '1',
                        '1',
                        '0',
                        '1',
                        '1',
                        '1'
                },
                {
                        '1',
                        '1',
                        '1',
                        '1',
                        '1',
                        '1',
                        '1',
                        '1',
                        '1',
                        '1',
                        '1',
                        '1',
                        '0',
                        '1',
                        '1',
                        '1',
                        '1',
                        '1',
                        '1',
                        '0'
                },
                {
                        '1',
                        '1',
                        '1',
                        '1',
                        '1',
                        '1',
                        '1',
                        '1',
                        '1',
                        '1',
                        '1',
                        '1',
                        '1',
                        '0',
                        '1',
                        '1',
                        '1',
                        '1',
                        '0',
                        '0'
                },
                {
                        '1',
                        '1',
                        '1',
                        '1',
                        '1',
                        '1',
                        '1',
                        '1',
                        '1',
                        '1',
                        '1',
                        '1',
                        '1',
                        '1',
                        '1',
                        '1',
                        '1',
                        '1',
                        '1',
                        '1'
                },
                {
                        '1',
                        '1',
                        '1',
                        '1',
                        '1',
                        '1',
                        '1',
                        '1',
                        '1',
                        '1',
                        '1',
                        '1',
                        '1',
                        '1',
                        '1',
                        '1',
                        '1',
                        '1',
                        '1',
                        '1'
                },
                {
                        '1',
                        '1',
                        '1',
                        '1',
                        '1',
                        '1',
                        '1',
                        '1',
                        '1',
                        '1',
                        '1',
                        '1',
                        '1',
                        '1',
                        '1',
                        '1',
                        '1',
                        '1',
                        '1',
                        '1'
                }
        };
        System.out.println(new NoOfIsland().numIslands(grid));
    }
}